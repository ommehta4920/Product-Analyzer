{% load static %}

<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>
        {% block title %} {% endblock %}
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&amp;display=swap" rel="stylesheet" />
    <link rel="icon" type="image/png" sizes="32x32" href="{% static 'img/favicon.png' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
</head>

<body class="bg-gray-100 select-none font-roboto bg-gray-100">
    <!-- Header -->
    <header
        class="header fixed w-full z-10 top-0 left-0 mx-auto px-4 py-4 flex justify-between align-items-center items-center text-lg">
        <div class="items-center space-x-4 ml-20 w-100">
            <nav class="space-x-6 flex items-center text-base w-100">
                <div class="main-nav w-75">
                    <a class=" text-2xl font-bold text-white ml-4 transition-all duration-300 tracking-tighter"
                        href="/">
                        <h1>Product Analyzer</h1>
                    </a>
                    <a class="header-link text-white mt-1 hover:underline underline-offset-4 transition-all duration-300 uppercase"
                        href="/comparison">
                        Comparisons
                    </a>
                    <a class="header-link text-white mt-1 hover:underline underline-offset-4 transition-all duration-300 uppercase"
                        href="/category">
                        Categories
                    </a>
                    <a class="header-link text-white mt-1 hover:underline underline-offset-4 transition-all duration-300 uppercase"
                        href="#">
                        About Us
                    </a>
                </div>
                <div class="login mr-20 w-25">
                    {% if request.session.user_id %}
                    <!-- If user is logged in, show profile and logout -->
                    <a class="text-white header-link mt-1 transition-all duration-300 uppercase mr-4" href="/profile">
                        <i class="fas fa-user text-white text-l"></i> Profile
                    </a>
                    <a class="text-white header-link mt-1 transition-all duration-300 uppercase mr-4" href="/logout">
                        <i class="fas fa-sign-out-alt text-white text-l"></i> Logout
                    </a>
                    {% else %}
                    <!-- If user is not logged in, show login button -->
                    <a class="text-white header-link mt-1 transition-all duration-300 uppercase mr-4" href="/signin">
                        <i class="fas fa-user text-white text-l"></i> Login
                    </a>
                    {% endif %}
                </div>
            </nav>
        </div>
    </header>

    {% block content %}
    {% endblock %}

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-10">
        <div class="max-w-7xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 flex flex-row justify-center">

                <!-- Left: Logo & Description -->
                <div>
                    <a href="/" class="text-2xl font-bold tracking-tighter">Product Analyzer</a>
                    <p class="text-gray-400 mt-2 text-wrap w-[20rem]">
                        Compare, decide, and choose smarter. Your trusted comparison platform.
                    </p>
                </div>

                <!-- Center: Navigation Links -->
                <div class="flex flex-row space-x-6 ml-12 w-[100%]">
                    <a href="/comparison" class="text-gray-300 hover:text-white transition">Comparison</a>
                    <a href="/categories" class="text-gray-300 hover:text-white transition">Categories</a>
                    <a href="#" class="text-gray-300 hover:text-white transition">About Us</a>
                    <a href="#" class="text-gray-300 hover:text-white transition">Contact Us</a>
                </div>

                <!-- Right: Social Media Icons -->
                <div class="flex items-top justify-start md:justify-end space-x-4">
                    <a href="#" class="text-gray-300 hover:text-white transition"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-gray-300 hover:text-white transition"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="text-gray-300 hover:text-white transition"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="text-gray-300 hover:text-white transition"><i class="fab fa-linkedin-in"></i></a>
                </div>

            </div>

            <!-- Bottom: Legal Links -->
            <div
                class="border-t border-gray-700 mt-6 pt-4 flex flex-col md:flex-row justify-between text-gray-400 text-sm">
                <p>Â© 2024 Product Analyzer. All rights reserved.</p>
                <div class="flex space-x-4 mt-2 md:mt-0">
                    <a href="#" class="hover:text-white transition">Privacy Policy</a>
                    <a href="#" class="hover:text-white transition">Terms of Service</a>
                    <a href="#" class="hover:text-white transition">Cookies</a>
                </div>
            </div>
        </div>
    </footer>


    <script>
        // BASE PAGE

        window.addEventListener('scroll', function () {
            const header = document.querySelector('.header');
            if (window.scrollY > 0) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        });

        document.querySelector('.scroll-down').addEventListener('click', function () {
            document.querySelector('#popular-comparisons').scrollIntoView({ behavior: 'smooth' });
        });

        // PRODUCT DETAILS PAGE

        // COMPARISON PAGE

        // function addProduct() {
        //     const productCount = document.querySelectorAll('.product-card').length;
        //     if (productCount < 4) {
        //         const productTemplate = document.getElementById('product-template').content.cloneNode(true);
        //         document.getElementById('product-container').appendChild(productTemplate);
        //         updateComparisonTable();
        //     }
        // }

        // function removeProduct(element) {
        //     const productCount = document.querySelectorAll('.product-card').length;
        //     if (productCount > 2) {
        //         element.closest('.product-card').remove();
        //         updateComparisonTable();
        //     }
        // }

        // function searchProduct(element) {
        //     const productName = element.closest('th').querySelector('.product-search').value;
        //     if (productName) {
        //         element.closest('th').querySelector('.product-name').textContent = productName;
        //         // Simulate a search and update the product details
        //         // In a real application, you would fetch this data from a server
        //         const productDetails = {
        //             "Product 1": {
        //                 price: "$999.99",
        //                 rating: "4.5/5",
        //                 screenSize: "6.7 inches",
        //                 processor: "Snapdragon 888",
        //                 ram: "12GB",
        //                 storage: "256GB",
        //                 image: "https://storage.googleapis.com/a1aa/image/ErG_iML3uuC_NIcLwmGSvsU4y-tyVJTrwE8lYgOg3UE.jpg"
        //             },
        //             "Product 2": {
        //                 price: "$899.99",
        //                 rating: "4.3/5",
        //                 screenSize: "6.5 inches",
        //                 processor: "Snapdragon 870",
        //                 ram: "8GB",
        //                 storage: "128GB",
        //                 image: "https://storage.googleapis.com/a1aa/image/oLznHlQiTsvXI6P5fkdue35aM2jw6Jszl40XDD6Nba0.jpg"
        //             }
        //         };
        //         const details = productDetails[productName] || {
        //             price: "$0.00",
        //             rating: "0/5",
        //             screenSize: "0 inches",
        //             processor: "Unknown",
        //             ram: "0GB",
        //             storage: "0GB",
        //             image: "https://storage.googleapis.com/a1aa/image/8Z35Yxu1299V2X4tUe94wgS1ZPptLZBGAnXGTV5WycA.jpg"
        //         };
        //         element.closest('th').querySelector('.product-price').textContent = details.price;
        //         element.closest('th').querySelector('.product-rating').textContent = details.rating;
        //         element.closest('th').querySelector('.product-screen-size').textContent = details.screenSize;
        //         element.closest('th').querySelector('.product-processor').textContent = details.processor;
        //         element.closest('th').querySelector('.product-ram').textContent = details.ram;
        //         element.closest('th').querySelector('.product-storage').textContent = details.storage;
        //         element.closest('th').querySelector('.product-image').src = details.image;
        //         updateComparisonTable();
        //     }
        // }

        // function updateComparisonTable() {
        //     const productCards = document.querySelectorAll('.product-card');
        //     const table = document.getElementById('comparison-table');
        //     const rows = table.querySelectorAll('tbody tr');

        //     productCards.forEach((card, index) => {
        //         const image = card.querySelector('.product-image').src;
        //         const price = card.querySelector('.product-price').textContent;
        //         const rating = card.querySelector('.product-rating').textContent;
        //         const screenSize = card.querySelector('.product-screen-size').textContent;
        //         const processor = card.querySelector('.product-processor').textContent;
        //         const ram = card.querySelector('.product-ram').textContent;
        //         const storage = card.querySelector('.product-storage').textContent;

        //         rows[0].children[index * 2 + 1].innerHTML = `<img src="${image}" alt="Product Image" class="rounded-lg" width="100" height="100">`;
        //         rows[1].children[index * 2 + 1].textContent = price;
        //         rows[2].children[index * 2 + 1].textContent = rating;
        //         rows[3].children[index * 2 + 1].textContent = screenSize;
        //         rows[4].children[index * 2 + 1].textContent = processor;
        //         rows[5].children[index * 2 + 1].textContent = ram;
        //         rows[6].children[index * 2 + 1].textContent = storage;
        //     });

        //     for (let i = productCards.length; i < 4; i++) {
        //         rows[0].children[i * 2 + 1].innerHTML = '';
        //         rows[1].children[i * 2 + 1].textContent = '';
        //         rows[2].children[i * 2 + 1].textContent = '';
        //         rows[3].children[i * 2 + 1].textContent = '';
        //         rows[4].children[i * 2 + 1].textContent = '';
        //         rows[5].children[i * 2 + 1].textContent = '';
        //         rows[6].children[i * 2 + 1].textContent = '';
        //     }
        // }

        // document.addEventListener('DOMContentLoaded', updateComparisonTable);
    </script>
</body>

</html>